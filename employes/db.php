<?php
/**
 * Created by PhpStorm.
 * User: stowdgl
 * Date: 23.02.19
 * Time: 13:26
 * INSERT INTO `employes` (`fullname`,`birthday_date`,`department`,`salary_type`,`salary`) VALUES ("Berk N. Valenzuela","2019-06-14","Customer Service","hourly",1526),("John Bishop","2019-08-28","Sales and Marketing","rate",1574),("Denton Horton","2019-08-07","Quality Assurance","rate",1729),("Noelani Q. Wheeler","2019-09-05","Payroll","rate",548),("Plato C. Beard","2019-03-17","Quality Assurance","rate",1789),("Tanner Ferrell","2018-04-21","Accounting","rate",1368),("Sydnee Schwartz","2019-04-28","Public Relations","rate",1648),("Barrett N. Jarvis","2018-06-22","Research and Development","hourly",1062),("Leigh L. Daniel","2018-07-21","Accounting","rate",540),("Ross D. Ayala","2019-03-11","Asset Management","rate",630);
INSERT INTO `employes` (`fullname`,`birthday_date`,`department`,`salary_type`,`salary`) VALUES ("Davis P. Cleveland","2019-06-13","Public Relations","rate",780),("Blake Nelson","2018-06-30","Sales and Marketing","hourly",538),("Nichole W. Travis","2018-03-14","Asset Management","rate",1671),("Aileen Fleming","2018-10-01","Tech Support","hourly",293),("Carl D. Thornton","2018-07-13","Finances","hourly",755),("Shannon R. Smith","2018-12-27","Accounting","hourly",285),("Wayne A. Bernard","2019-10-16","Customer Relations","rate",613),("Kirestin Stafford","2019-02-07","Sales and Marketing","hourly",966),("Mark O. Strickland","2018-10-21","Payroll","hourly",696),("Cynthia Beach","2019-09-11","Advertising","rate",1509);
INSERT INTO `employes` (`fullname`,`birthday_date`,`department`,`salary_type`,`salary`) VALUES ("Leila V. Larson","2020-01-24","Advertising","rate",1330),("Britanney Z. Thomas","2018-05-20","Tech Support","hourly",1224),("Charles O. Nunez","2019-04-01","Customer Service","hourly",1533),("Jeanette Hogan","2019-10-30","Advertising","hourly",1460),("Beatrice T. Haley","2018-08-21","Advertising","rate",502),("Griffith S. Colon","2019-09-09","Accounting","hourly",1736),("Adrian T. Farrell","2019-03-02","Accounting","hourly",844),("Candace Sears","2018-09-25","Sales and Marketing","hourly",945),("Elvis E. Navarro","2018-12-17","Accounting","rate",1951),("India Y. Cooley","2019-05-17","Accounting","rate",818);
INSERT INTO `employes` (`fullname`,`birthday_date`,`department`,`salary_type`,`salary`) VALUES ("Jordan Guzman","2019-03-09","Asset Management","rate",1991),("Lyle Shelton","2018-10-18","Asset Management","rate",1607),("Emma Guerra","2019-08-26","Accounting","hourly",1904),("Hollee I. Rogers","2018-12-11","Asset Management","hourly",584),("Octavius Robles","2019-09-28","Tech Support","rate",836),("Rebekah Holcomb","2018-12-09","Customer Service","hourly",399),("Hu Cannon","2019-11-14","Customer Service","hourly",1354),("Yvonne V. Burgess","2018-11-15","Public Relations","rate",1074),("Blake S. Cook","2019-04-06","Finances","rate",1293),("Ciaran Curry","2019-02-10","Payroll","rate",1896);
INSERT INTO `employes` (`fullname`,`birthday_date`,`department`,`salary_type`,`salary`) VALUES ("Felix O. Sherman","2018-05-07","Tech Support","hourly",628),("Bradley T. Howe","2019-12-05","Payroll","hourly",1955),("Martina G. Foley","2019-11-16","Quality Assurance","hourly",983),("Savannah Goff","2019-09-30","Media Relations","hourly",1067),("Wynne Knight","2018-07-31","Tech Support","hourly",580),("Mason Flynn","2018-06-06","Human Resources","hourly",314),("Patience Patterson","2018-02-27","Finances","rate",1552),("Samantha W. Vincent","2020-02-22","Finances","hourly",558),("Kelsie Reynolds","2018-02-25","Payroll","rate",1797),("Suki Herman","2018-05-29","Public Relations","hourly",575);
INSERT INTO `employes` (`fullname`,`birthday_date`,`department`,`salary_type`,`salary`) VALUES ("Rajah Kirby","2019-09-16","Quality Assurance","rate",1522),("Tasha T. Vinson","2019-08-31","Sales and Marketing","hourly",973),("Yvette A. Lamb","2018-06-12","Accounting","hourly",1228),("Matthew Stokes","2019-11-01","Quality Assurance","rate",1908),("Hakeem Z. Ayers","2018-08-29","Media Relations","hourly",1841),("Felix Dunlap","2019-01-31","Asset Management","hourly",1022),("Zephania D. Rose","2018-03-30","Sales and Marketing","rate",405),("Seth P. Webster","2018-04-18","Human Resources","hourly",1743),("Jason Chaney","2019-07-22","Finances","hourly",404),("Clayton L. Huffman","2019-12-16","Public Relations","rate",223);
INSERT INTO `employes` (`fullname`,`birthday_date`,`department`,`salary_type`,`salary`) VALUES ("Vance Y. Mclean","2018-06-24","Customer Service","hourly",695),("Gail Boyd","2019-04-16","Asset Management","hourly",1183),("Wing I. Alston","2018-12-06","Research and Development","hourly",769),("Perry Clayton","2018-11-04","Customer Relations","rate",790),("Acton K. Golden","2018-12-06","Legal Department","rate",1793),("Madison I. Madden","2019-10-18","Accounting","hourly",1186),("Scarlett Acosta","2020-02-01","Quality Assurance","hourly",563),("Jared Pennington","2018-06-28","Research and Development","rate",1288),("Skyler Y. Caldwell","2020-02-10","Quality Assurance","hourly",973),("Francis W. Fry","2018-08-28","Advertising","hourly",413);
INSERT INTO `employes` (`fullname`,`birthday_date`,`department`,`salary_type`,`salary`) VALUES ("Lana T. Travis","2018-04-07","Legal Department","hourly",1076),("Alvin H. Dawson","2019-11-13","Media Relations","rate",1033),("Barry Mercer","2019-12-19","Human Resources","rate",300),("Martina Ayala","2019-11-10","Sales and Marketing","rate",1410),("Rebekah Gilbert","2019-06-30","Accounting","hourly",1934),("Jelani V. Rosa","2019-12-20","Human Resources","rate",1856),("Armand W. Stone","2018-07-21","Human Resources","hourly",1454),("Alfreda Webb","2019-04-26","Payroll","hourly",1848),("Ingrid Z. Bennett","2018-04-19","Payroll","hourly",1073),("Kiona I. Wilkins","2020-01-03","Legal Department","rate",507);
INSERT INTO `employes` (`fullname`,`birthday_date`,`department`,`salary_type`,`salary`) VALUES ("Indigo Nguyen","2019-06-11","Public Relations","hourly",819),("Myles B. Cantu","2019-01-26","Advertising","rate",769),("Jada Y. Michael","2018-05-24","Customer Relations","hourly",1107),("Brynn Peterson","2020-01-09","Customer Relations","hourly",1589),("Mikayla G. Hodges","2018-04-25","Asset Management","rate",294),("Lee Callahan","2020-02-12","Tech Support","rate",663),("May Barber","2020-02-01","Payroll","rate",246),("Demetrius M. Wiley","2019-04-09","Quality Assurance","rate",1825),("Melyssa Z. Odonnell","2019-09-16","Human Resources","rate",1942),("Deanna A. Hardin","2020-02-05","Payroll","rate",1262);
INSERT INTO `employes` (`fullname`,`birthday_date`,`department`,`salary_type`,`salary`) VALUES ("Wynter Livingston","2020-02-12","Sales and Marketing","hourly",1497),("Cassandra S. Guy","2019-10-25","Human Resources","hourly",395),("Solomon Miles","2020-02-10","Asset Management","hourly",306),("Harlan Mathis","2019-05-28","Human Resources","rate",874),("Katelyn W. Barnes","2019-02-16","Quality Assurance","hourly",1280),("Nita W. Mendoza","2018-05-21","Quality Assurance","rate",731),("Chester Pittman","2019-04-10","Asset Management","rate",1447),("Seth Daniel","2018-12-02","Media Relations","rate",1814),("Ingrid Bell","2019-12-15","Media Relations","rate",1781),("Cheyenne Howell","2018-05-20","Public Relations","hourly",1612);

 */
define('DB_HOST', 'localhost');
define('DB_NAME', 'workers');
define('DB_USER', 'stowdgl');
define('DB_PASS', 'ra2a2984j3');
define('DB_CHAR', 'utf8mb4');
define('DB_TABLE','employes');
class DB
{
    protected static $instance = null;

    public function __construct() {}
    public function __clone() {}

    public static function instance()
    {
        if (self::$instance === null)
        {
            $opt  = array(
                PDO::ATTR_ERRMODE            => PDO::ERRMODE_EXCEPTION,
                PDO::ATTR_DEFAULT_FETCH_MODE => PDO::FETCH_ASSOC,
                PDO::ATTR_EMULATE_PREPARES   => TRUE,
            );
            $dsn = 'mysql:host='.DB_HOST.';dbname='.DB_NAME.';charset='.DB_CHAR;
            self::$instance = new PDO($dsn, DB_USER, DB_PASS, $opt);
        }
        return self::$instance;
    }

    public static function __callStatic($method, $args)
    {
        return call_user_func_array(array(self::instance(), $method), $args);
    }

    public static function run($sql, $args = [])
    {
        $maxid = self::instance()->query('SELECT id FROM employes WHERE id=(SELECT max(id) FROM employes)');
        if (!$args)
        {
            return self::instance()->query($sql);
        }
        $stmt = self::instance()->prepare($sql);
        $stmt->execute($args);
        return $stmt;
    }

    /**
     * @return null
     */

}
